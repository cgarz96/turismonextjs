{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\crist\\\\Desktop\\\\turismo_webapp detalles\\\\pages\\\\ingresar.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport Layout from '../components/Layout';\nimport styled from 'styled-components';\nimport Router, { useRouter } from 'next/router';\nimport Loader from 'react-loader-spinner';\nimport Cookies from 'universal-cookie';\n\nvar Ingresar = function Ingresar() {\n  _s();\n\n  var cookies = new Cookies();\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      password = _useState3[0],\n      setPassword = _useState3[1];\n\n  var loguser = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var formData, response, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              formData = new FormData();\n              formData.append('email', email);\n              formData.append('password', password);\n              setIsLoading(true);\n              _context.next = 6;\n              return fetch(\"https://www.lrseguridad.com.ar/turismorest/public/api/login\", {\n                method: 'POST',\n                headers: {\n                  'Accept': 'application/json'\n                },\n                body: formData\n              });\n\n            case 6:\n              response = _context.sent;\n              _context.next = 9;\n              return response.json();\n\n            case 9:\n              data = _context.sent;\n\n              if (data.token) {\n                cookies.set('auth', {\n                  token: data.token,\n                  user: email\n                }, {\n                  path: '/'\n                });\n                Router.push('/');\n              }\n\n              setIsLoading(false);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function loguser() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(MainWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, __jsx(Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, __jsx(LoginWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, \" Ingreso de usuario\"), __jsx(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, \"Email:\"), __jsx(\"input\", {\n    placeholder: \"Ingrese un email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }), __jsx(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  }, \"Contrase\\xF1a:\"), __jsx(\"input\", {\n    placeholder: \"Ingrese su contrase\\xF1a\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }), __jsx(\"button\", {\n    onClick: loguser,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, isLoading ? __jsx(Loader, {\n    style: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%,-50%)'\n    },\n    type: \"TailSpin\",\n    color: \"#00BFFF\",\n    height: 20,\n    width: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 29\n    }\n  }) : 'Ingresar')))));\n};\n\n_s(Ingresar, \"O4CPOzbrAUAMUMpp8rBuhTKfRks=\");\n\n_c = Ingresar;\nexport default Ingresar;\nexport var MainWrapper = styled.div.withConfig({\n  displayName: \"ingresar__MainWrapper\",\n  componentId: \"sc-1grb080-0\"\n})([\"padding:0px 0px 0px 0px;box-sizing:border-box;min-height:100vh;\"]);\n_c2 = MainWrapper;\nexport var Content = styled.div.withConfig({\n  displayName: \"ingresar__Content\",\n  componentId: \"sc-1grb080-1\"\n})([\"height:90vh;position:relative;\"]);\n_c3 = Content;\nexport var LoginWrapper = styled.div.withConfig({\n  displayName: \"ingresar__LoginWrapper\",\n  componentId: \"sc-1grb080-2\"\n})([\"width:30vw;padding:25px;height:initial;display:grid;border-radius:5px;border:1px solid #c5c5c5;position:absolute;top:57%;left:50%;transform:translate(-50%,-50%);p{font-family:'Karla',sans-serif;font-weight:600;}input{font-family:'Karla',sans-serif;font-weight:600;padding:4px 6px 4px 10px;color:#333;outline:none;&::placeholder{color:#717171;font-weight:500;}}label{font-family:'Karla',sans-serif;font-weight:500;}button{position:relative;padding:6px;height:6vh;border-radius:5px;background:#602b2a;font-family:'Karla',sans-serif;font-weight:600;border:none;width:12vw;color:white;justify-self:center;margin:3% 0 0 0;cursor:pointer;}\"]);\n_c4 = LoginWrapper;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Ingresar\");\n$RefreshReg$(_c2, \"MainWrapper\");\n$RefreshReg$(_c3, \"Content\");\n$RefreshReg$(_c4, \"LoginWrapper\");","map":{"version":3,"sources":["C:/Users/crist/Desktop/turismo_webapp detalles/pages/ingresar.js"],"names":["useState","useEffect","Layout","styled","Router","useRouter","Loader","Cookies","Ingresar","cookies","isLoading","setIsLoading","email","setEmail","password","setPassword","loguser","formData","FormData","append","fetch","method","headers","body","response","json","data","token","set","user","path","push","e","target","value","position","top","left","transform","MainWrapper","div","Content","LoginWrapper"],"mappings":";;;;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,IAAeC,SAAf,QAA+B,aAA/B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,OAAP,MAAoB,kBAApB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA;;AAEnB,MAAMC,OAAO,GAAG,IAAIF,OAAJ,EAAhB;;AAFmB,kBAIeP,QAAQ,CAAC,KAAD,CAJvB;AAAA,MAIZU,SAJY;AAAA,MAIDC,YAJC;;AAAA,mBAKOX,QAAQ,CAAC,EAAD,CALf;AAAA,MAKZY,KALY;AAAA,MAKLC,QALK;;AAAA,mBAMab,QAAQ,CAAC,EAAD,CANrB;AAAA,MAMZc,QANY;AAAA,MAMFC,WANE;;AAQnB,MAAMC,OAAO;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACRC,cAAAA,QADQ,GACG,IAAIC,QAAJ,EADH;AAEZD,cAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBP,KAAzB;AACAK,cAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BL,QAA5B;AACAH,cAAAA,YAAY,CAAC,IAAD,CAAZ;AAJY;AAAA,qBAKSS,KAAK,gEAAgE;AACtFC,gBAAAA,MAAM,EAAE,MAD8E;AAEtFC,gBAAAA,OAAO,EAAE;AACP,4BAAU;AADH,iBAF6E;AAMrFC,gBAAAA,IAAI,EAAEN;AAN+E,eAAhE,CALd;;AAAA;AAKRO,cAAAA,QALQ;AAAA;AAAA,qBAaKA,QAAQ,CAACC,IAAT,EAbL;;AAAA;AAaRC,cAAAA,IAbQ;;AAcZ,kBAAGA,IAAI,CAACC,KAAR,EAAc;AACVlB,gBAAAA,OAAO,CAACmB,GAAR,CAAY,MAAZ,EAAoB;AAACD,kBAAAA,KAAK,EAAED,IAAI,CAACC,KAAb;AAAoBE,kBAAAA,IAAI,EAAEjB;AAA1B,iBAApB,EAAsD;AAAEkB,kBAAAA,IAAI,EAAE;AAAR,iBAAtD;AACA1B,gBAAAA,MAAM,CAAC2B,IAAP,CAAY,GAAZ;AACH;;AACDpB,cAAAA,YAAY,CAAC,KAAD,CAAZ;;AAlBY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAPK,OAAO;AAAA;AAAA;AAAA,KAAb;;AAqBA,SACI,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,EAGI;AAAO,IAAA,WAAW,EAAC,kBAAnB;AAAsC,IAAA,KAAK,EAAEJ,KAA7C;AAAoD,IAAA,QAAQ,EAAE,kBAACoB,CAAD;AAAA,aAAMnB,QAAQ,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd;AAAA,KAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJJ,EAKI;AAAQ,IAAA,WAAW,EAAC,0BAApB;AAA4C,IAAA,KAAK,EAAEpB,QAAnD;AAA6D,IAAA,QAAQ,EAAE,kBAACkB,CAAD;AAAA,aAAMjB,WAAW,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB;AAAA,KAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EAMI;AAAQ,IAAA,OAAO,EAAElB,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCN,SAAS,GACN,MAAC,MAAD;AACA,IAAA,KAAK,EAAE;AAACyB,MAAAA,QAAQ,EAAE,UAAX;AAAuBC,MAAAA,GAAG,EAAE,KAA5B;AAAmCC,MAAAA,IAAI,EAAE,KAAzC;AAAgDC,MAAAA,SAAS,EAAE;AAA3D,KADP;AAEA,IAAA,IAAI,EAAC,UAFL;AAGA,IAAA,KAAK,EAAC,SAHN;AAIA,IAAA,MAAM,EAAE,EAJR;AAKA,IAAA,KAAK,EAAE,EALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,GASP,UAVH,CANJ,CADJ,CADJ,CADJ,CADJ;AA2BH,CAxDD;;GAAM9B,Q;;KAAAA,Q;AA0DN,eAAeA,QAAf;AAEA,OAAO,IAAM+B,WAAW,GAAGpC,MAAM,CAACqC,GAAV;AAAA;AAAA;AAAA,uEAAjB;MAAMD,W;AAMb,OAAO,IAAME,OAAO,GAAGtC,MAAM,CAACqC,GAAV;AAAA;AAAA;AAAA,sCAAb;MAAMC,O;AAIb,OAAO,IAAMC,YAAY,GAAGvC,MAAM,CAACqC,GAAV;AAAA;AAAA;AAAA,ioBAAlB;MAAME,Y","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport Layout from '../components/Layout';\r\nimport styled from 'styled-components';\r\nimport Router,{useRouter} from 'next/router'\r\nimport Loader from 'react-loader-spinner'\r\nimport Cookies from 'universal-cookie';\r\n \r\nconst Ingresar = () => {\r\n\r\n    const cookies = new Cookies();\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const loguser = async () => {\r\n        var formData = new FormData();\r\n        formData.append('email', email);\r\n        formData.append('password', password);\r\n        setIsLoading(true)\r\n        let response = await fetch(`https://www.lrseguridad.com.ar/turismorest/public/api/login`, {\r\n            method: 'POST',\r\n            headers: {\r\n              'Accept': 'application/json',\r\n                        \r\n             },\r\n             body: formData\r\n             });\r\n        let data = await response.json()\r\n        if(data.token){\r\n            cookies.set('auth', {token: data.token, user: email}, { path: '/' });\r\n            Router.push('/')\r\n        }\r\n        setIsLoading(false)\r\n    }   \r\n \r\n    return ( \r\n        <MainWrapper>\r\n            <Layout>\r\n                <Content>\r\n                    <LoginWrapper>\r\n                        <p> Ingreso de usuario</p>\r\n                        <label>Email:</label>\r\n                        <input placeholder=\"Ingrese un email\" value={email} onChange={(e)=> setEmail(e.target.value)}/>\r\n                        <label>Contraseña:</label>\r\n                        <input  placeholder=\"Ingrese su contraseña\" value={password} onChange={(e)=> setPassword(e.target.value)}/>\r\n                        <button onClick={loguser}> \r\n                        {isLoading ? (\r\n                            <Loader\r\n                            style={{position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%,-50%)'}} \r\n                            type=\"TailSpin\"\r\n                            color=\"#00BFFF\"\r\n                            height={20}\r\n                            width={20}\r\n                    \r\n                        />\r\n                        ): 'Ingresar'}\r\n                        </button>\r\n                    </LoginWrapper>\r\n                </Content>\r\n            </Layout>\r\n        </MainWrapper>\r\n     );\r\n}\r\n \r\nexport default Ingresar;\r\n\r\nexport const MainWrapper = styled.div`\r\n  padding: 0px 0px 0px 0px;\r\n  box-sizing: border-box;\r\n  min-height:100vh;\r\n`;\r\n\r\nexport const Content = styled.div`\r\nheight:90vh;\r\nposition:relative;\r\n`;\r\nexport const LoginWrapper = styled.div`\r\nwidth:30vw;\r\npadding:25px;\r\nheight:initial;\r\ndisplay:grid;\r\nborder-radius:5px;\r\nborder:1px solid #c5c5c5;\r\nposition:absolute;\r\ntop:57%;\r\nleft:50%;\r\ntransform:translate(-50%, -50%);\r\np{\r\n    font-family:'Karla', sans-serif;\r\n    font-weight:600;\r\n}\r\ninput{\r\n    font-family:'Karla', sans-serif;\r\n    font-weight:600;\r\n    padding:4px 6px 4px 10px;\r\n    color:#333;\r\n    outline:none;\r\n    &::placeholder{\r\n        color: #717171;\r\n        font-weight:500;\r\n    }\r\n}\r\nlabel{\r\n    font-family:'Karla', sans-serif;\r\n    font-weight:500;\r\n}\r\nbutton{\r\n    position:relative;\r\n    padding:6px;\r\n    height:6vh;\r\n    border-radius:5px;\r\n    background:#602b2a;\r\n    font-family:'Karla', sans-serif;\r\n    font-weight:600;\r\n    border:none;\r\n    width:12vw;\r\n    color:white;\r\n    justify-self:center;\r\n    margin:3% 0 0 0;\r\n    cursor:pointer;\r\n}\r\n`;"]},"metadata":{},"sourceType":"module"}