{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\crist\\\\Desktop\\\\turismo_webapp detalles\\\\components\\\\AddButton.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useContext, useEffect, useRef } from 'react';\nimport { ContextState } from \"../context/global\";\nimport { TiPlus, TiMinus } from \"react-icons/ti\";\nimport { RiLoader4Line } from \"react-icons/ri\";\nimport { addItem, removeItem } from '../lib/cartlib';\nimport Loader from 'react-loader-spinner';\nimport styled from 'styled-components';\nexport const AddButtonWrapper = styled.button.withConfig({\n  displayName: \"AddButton__AddButtonWrapper\",\n  componentId: \"htz7ve-0\"\n})([\"background:\", \";border:\", \";width:155px;height:40px;border-radius:5px;cursor:pointer;\"], props => props.inCart == true ? \"none\" : '#fea621', props => props.inCart == true ? \"1px solid #fea621\" : 'none');\nexport const FalseBtnWrapper = styled.button.withConfig({\n  displayName: \"AddButton__FalseBtnWrapper\",\n  componentId: \"htz7ve-1\"\n})([\"background:transparent;border:1px solid #ffffff12;width:190px;height:40px;border-radius:5px;display:grid;align-items:center;position:relative;cursor:pointer;\"]);\nexport const AddTitle = styled.p.withConfig({\n  displayName: \"AddButton__AddTitle\",\n  componentId: \"htz7ve-2\"\n})([\"color:#0b121a;font-weight:900;font-size:14px;display:grid;padding:0px 0px 0px 6px;grid-template-columns:0px 160px;align-items:center;font-family:'Karla',sans-serif;\"]);\nexport const RemoveTitle = styled.p.withConfig({\n  displayName: \"AddButton__RemoveTitle\",\n  componentId: \"htz7ve-3\"\n})([\"color:#fea621;font-weight:900;font-size:14px;display:grid;padding:0px 0px 0px 14px;width:180px;grid-template-columns:0px 160px;align-items:center;font-family:'Karla',sans-serif;\"]);\nexport const LoaderBlock = styled.div.withConfig({\n  displayName: \"AddButton__LoaderBlock\",\n  componentId: \"htz7ve-4\"\n})([\"position:absolute;width:100%;height:100%;border-radius:3px;background:\", \";top:0;left:0;animation:animate 2s ease-in-out 1 both;\"], props => props.inCart == true ? \"#0b121a\" : '#01ff85');\n\nconst AddButton = ({\n  idproducto\n}) => {\n  const btnref = useRef(null);\n  const {\n    0: itemCart,\n    1: setItemCart\n  } = useContext(ContextState);\n  const {\n    0: inCart,\n    1: setInCart\n  } = useState(false);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: loadingwrap,\n    1: setLoadingWrap\n  } = useState(true);\n  console.log(itemCart, 'temcart');\n  useEffect(() => {\n    const ides = JSON.parse(localStorage.getItem('st_cart'));\n    ides.map(item => {\n      if (item == idproducto) {\n        setInCart(true);\n      }\n    });\n    setLoadingWrap(false);\n  }, []);\n\n  const changeCart = () => {\n    setLoading(true);\n    btnref.current.disabled = true;\n    btnref.current.style.opacity = \"0.8\";\n    setTimeout(() => {\n      if (inCart) {\n        /*chequeamos si ya esta en el carrito entonces removemos */\n        const allprod = removeItem(idproducto);\n        setItemCart(allprod);\n        setInCart(false);\n        setLoading(false);\n        btnref.current.disabled = false;\n        btnref.current.style.opacity = \"1\";\n        return;\n      }\n\n      const allprod = addItem(idproducto);\n      setItemCart(allprod);\n      setInCart(true);\n      btnref.current.disabled = false;\n      setLoading(false);\n      btnref.current.style.opacity = \"1\";\n    }, 500);\n  };\n\n  console.log(itemCart);\n\n  if (loadingwrap) {\n    return __jsx(FalseBtnWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, __jsx(Loader, {\n      style: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)'\n      },\n      type: \"TailSpin\",\n      color: \"#00BFFF\",\n      height: 20,\n      width: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }));\n  } else {\n    return __jsx(AddButtonWrapper, {\n      ref: btnref,\n      onClick: changeCart,\n      inCart: inCart,\n      title: idproducto,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, loading ? __jsx(Loader, {\n      style: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)'\n      },\n      type: \"TailSpin\",\n      color: \"#00BFFF\",\n      height: 20,\n      width: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }) : inCart ? __jsx(RemoveTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 30\n      }\n    }, \" \", __jsx(TiMinus, {\n      size: \"16px\",\n      color: \"#fea621\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 44\n      }\n    }), \" Remover producto\") : __jsx(AddTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 117\n      }\n    }, \" \", __jsx(TiPlus, {\n      size: \"16px\",\n      color: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 128\n      }\n    }), \" Agregar producto\"));\n  }\n};\n\nexport default AddButton;","map":{"version":3,"sources":["C:/Users/crist/Desktop/turismo_webapp detalles/components/AddButton.js"],"names":["useState","useContext","useEffect","useRef","ContextState","TiPlus","TiMinus","RiLoader4Line","addItem","removeItem","Loader","styled","AddButtonWrapper","button","props","inCart","FalseBtnWrapper","AddTitle","p","RemoveTitle","LoaderBlock","div","AddButton","idproducto","btnref","itemCart","setItemCart","setInCart","loading","setLoading","loadingwrap","setLoadingWrap","console","log","ides","JSON","parse","localStorage","getItem","map","item","changeCart","current","disabled","style","opacity","setTimeout","allprod","position","top","left","transform"],"mappings":"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","sourcesContent":["import { useState, useContext, useEffect, useRef } from 'react';\r\nimport { ContextState } from \"../context/global\";\r\nimport { TiPlus, TiMinus } from \"react-icons/ti\";\r\nimport { RiLoader4Line } from \"react-icons/ri\";\r\nimport {addItem, removeItem} from '../lib/cartlib'\r\nimport Loader from 'react-loader-spinner'\r\nimport styled from 'styled-components'\r\n\r\n    export const AddButtonWrapper = styled.button`\r\n    background: ${props => props.inCart == true ? \"none\" : '#fea621'};\r\n    border: ${props => props.inCart == true ? \"1px solid #fea621\" : 'none'};\r\n   width:155px;\r\n    height:40px;\r\n    border-radius:5px;\r\n    \r\n  \r\n    \r\n    cursor: pointer;\r\n    `;\r\n    export const FalseBtnWrapper = styled.button`\r\n    background: transparent;\r\n    border:1px solid #ffffff12;\r\n    width:190px;\r\n    height:40px;\r\n    border-radius:5px;\r\n    display:grid;\r\n    align-items:center;\r\n    position:relative;\r\n    cursor: pointer;\r\n    `;\r\n\r\n    export const AddTitle = styled.p`\r\n      color: #0b121a;\r\n      font-weight:900;\r\n      font-size:14px;\r\n      display:grid;\r\n      padding: 0px 0px 0px 6px;\r\n     \r\n      grid-template-columns: 0px 160px;\r\n      align-items:center;\r\n      font-family:'Karla',sans-serif;\r\n    `;\r\n    export const RemoveTitle = styled.p`\r\n      color: #fea621;\r\n      font-weight:900;\r\n      font-size:14px;\r\n      display:grid;\r\n      padding: 0px 0px 0px 14px;\r\n      width:180px;\r\n      grid-template-columns: 0px 160px;\r\n      align-items:center;\r\n      font-family:'Karla',sans-serif;\r\n    `;\r\n\r\n    export const LoaderBlock = styled.div`\r\n      position:absolute;\r\n      width:100%;\r\n      height:100%;\r\n      border-radius:3px;\r\n      background: ${props => props.inCart == true ? \"#0b121a\" : '#01ff85'};\r\n      top:0;\r\n      left:0;\r\n      animation: animate 2s ease-in-out 1 both;\r\n    `;\r\n \r\nconst AddButton = ({idproducto}) => {\r\n\r\n    \r\n    const btnref = useRef(null);\r\n    const [itemCart, setItemCart] = useContext(ContextState);\r\n    const [inCart, setInCart] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [loadingwrap, setLoadingWrap] = useState(true)\r\n\r\n    console.log(itemCart, 'temcart')\r\n\r\n    useEffect(()=> {\r\n        const ides = JSON.parse(localStorage.getItem('st_cart'));\r\n        ides.map(item => {\r\n            if(item == idproducto){\r\n                setInCart(true)\r\n            }\r\n        })\r\n        setLoadingWrap(false)\r\n    }, [])\r\n\r\n\r\n    const changeCart = () => {\r\n        setLoading(true)\r\n        btnref.current.disabled = true;\r\n        btnref.current.style.opacity = \"0.8\";\r\n        setTimeout(()=> {\r\n            if(inCart){/*chequeamos si ya esta en el carrito entonces removemos */\r\n                const allprod = removeItem(idproducto)\r\n                setItemCart(allprod)\r\n                setInCart(false)\r\n                setLoading(false)\r\n                btnref.current.disabled = false;\r\n                btnref.current.style.opacity = \"1\";\r\n                return\r\n            }\r\n            const allprod = addItem(idproducto);\r\n            setItemCart(allprod)\r\n            setInCart(true)\r\n            btnref.current.disabled = false;\r\n            setLoading(false)\r\n            btnref.current.style.opacity = \"1\";\r\n        }, 500)\r\n        \r\n    }\r\n\r\n    console.log(itemCart)\r\n    if(loadingwrap) {\r\n        return(\r\n            <FalseBtnWrapper>\r\n                <Loader\r\n                    style={{position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%,-50%)'}} \r\n                    type=\"TailSpin\"\r\n                    color=\"#00BFFF\"\r\n                    height={20}\r\n                    width={20}\r\n                />\r\n            </FalseBtnWrapper>\r\n        )\r\n    }else{\r\n        return(\r\n            <AddButtonWrapper ref={btnref} onClick={changeCart} inCart={inCart} title={idproducto} >\r\n                {loading ? (\r\n                    <Loader\r\n                    style={{position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%,-50%)'}} \r\n                    type=\"TailSpin\"\r\n                    color=\"#00BFFF\"\r\n                    height={20}\r\n                    width={20}\r\n                />\r\n                ): (inCart ? <RemoveTitle> <TiMinus  size=\"16px\" color=\"#fea621\"/> Remover producto</RemoveTitle> : <AddTitle> <TiPlus size=\"16px\" color=\"white\"/> Agregar producto</AddTitle>)\r\n                }\r\n            </AddButtonWrapper>\r\n        )\r\n    }\r\n}\r\n \r\nexport default AddButton;"]},"metadata":{},"sourceType":"module"}